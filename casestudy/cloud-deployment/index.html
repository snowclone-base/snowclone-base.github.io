<!doctype html>
<html lang=en-us>

<head>
  <meta charset=utf-8>
  <meta http-equiv=x-ua-compatible content="ie=edge">
  <meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
  <link rel=stylesheet href="../../styles/casestudy.css">
  <noscript>
    <style>
      img.lazyload {
        display: none
      }
    </style>
  </noscript>
  <meta name=robots content="index, follow">
  <meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <title>Cloud Deployment</title>
  <meta name=description
    content="Snowclone is an open-source backend-as-a-service that provides developers with a Postgres database, instant APIs, authentication, and real-time subscriptions">
  <link rel=canonical href=https://snowclone-base.github.io/casestudy/snowclone-design>
  <meta property="og:locale" content="en_US">
  <meta property="og:type" content="article">
  <meta property="og:title" content="Snowclone Design">
  <meta property="og:description"
    content="Snowclone is an open-source backend-as-a-service that provides developers with a Postgres database, instant APIs, authentication, and real-time subscriptions">
  <meta property="og:url" content=https://snowclone-base.github.io/casestudy/snowclone-design>
  <meta property="og:site_name" content="Snowclone">
  <meta name=theme-color content="#fff">
  <link rel=icon href="../../images/snowclone-favicon.ico" sizes=any>
</head>

<body class="docs single">
  <div class=sticky-top>
    <header class="navbar navbar-expand-lg navbar-light doks-navbar">
      <nav class="container-xxl flex-wrap flex-lg-nowrap" aria-label="Main navigation">
        <a class="navbar-brand order-0 mb-2" href=../.. aria-label=Snowclone>
          <img class=logo-light src="../../images/snowclone-full-logo.png" width=200px style="padding-top: 11px;">
        </a>
        <button class="btn btn-link order-0 ms-auto d-lg-none" type=button data-bs-toggle=offcanvas
          data-bs-target=#offcanvasExample aria-controls=offcanvasExample>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="feather feather-more-horizontal">
            <circle cx="12" cy="12" r="1" />
            <circle cx="19" cy="12" r="1" />
            <circle cx="5" cy="12" r="1" />
          </svg>
        </button>
        <div class="offcanvas offcanvas-start d-lg-none" tabindex=-1 id=offcanvasExample
          aria-labelledby=offcanvasExampleLabel>
          <div class=offcanvas-header>
            <h5 class=offcanvas-title id=offcanvasExampleLabel>Browse docs</h5>
            <button type=button class=btn-close data-bs-dismiss=offcanvas aria-label=Close></button>
          </div>
          <div class=offcanvas-body>
            <aside class="doks-sidebar mt-n3">
              <nav id=doks-docs-nav aria-label="Tertiary navigation">
                <h3 class="h6 text-uppercase mb-2">Case Study</h3>
                <ul class=list-unstyled>
                  <li>
                    <a class=docs-link href=../introduction>Introduction</a>
                  </li>
                  <li>
                    <a class=docs-link href=../baas>BaaS</a>
                  </li>
                  <li>
                    <a class=docs-link href=../existing-solutions>Existing Solutions</a>
                  </li>
                  <li>
                    <a class=docs-link href=../snowclone-design>Snowclone Design</a>
                  </li>
                  <li>
                    <a class="docs-link active" href=../cloud-deployment>Cloud Deployment</a>
                  </li>
                  <li>
                    <a class=docs-link href=../future-work>Future Work</a>
                  </li>
                </ul>
              </nav>
            </aside>
          </div>
        </div>
        <button class="btn btn-menu order-2 d-block d-lg-none" type=button data-bs-toggle=offcanvas
          data-bs-target=#offcanvasDoks aria-controls=offcanvasDoks aria-label="Open main menu">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="feather feather-menu">
            <line x1="3" y1="12" x2="21" y2="12" />
            <line x1="3" y1="6" x2="21" y2="6" />
            <line x1="3" y1="18" x2="21" y2="18" />
          </svg>
        </button>
        <div class="offcanvas offcanvas-end border-0 py-lg-1" tabindex=-1 id=offcanvasDoks data-bs-backdrop=true
          aria-labelledby=offcanvasDoksLabel>
          <div class="offcanvas-header d-lg-none">
            <h2 class="h5 offcanvas-title ps-2" id=offcanvasDoksLabel>
              <a class=text-dark href=../..>Snowclone</a>
            </h2>
            <button type=button class="btn-close text-reset me-2" data-bs-dismiss=offcanvas
              aria-label="Close main menu"></button>
          </div>
          <div class="offcanvas-body p-4 p-lg-0">
            <ul class="nav flex-column flex-lg-row align-items-lg-center mt-2 mt-lg-0 ms-lg-2 me-lg-auto">
              <li class=nav-item>
                <a class="nav-link ps-0 py-1" href=../introduction>Case Study</a>
              </li>
              <li class=nav-item>
                <a class="nav-link ps-0 py-1" href=../../about>About Us</a>
              </li>
            </ul>
            <hr class="text-black-50 my-4 d-lg-none">
            <hr class="text-black-50 my-4 d-lg-none">
            <ul class="nav flex-column flex-lg-row">
              <li class=nav-item>
                <a class="nav-link social-link" href=https://github.com/snowclone-base>
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                    stroke="#f800c2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="feather feather-github">
                    <path
                      d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22" />
                  </svg>
                  <small class="ms-2 d-lg-none">GitHub</small>
                </a>
              </li>
            </ul>
            <hr class="text-black-50 my-4 d-lg-none">
          </div>
        </div>
      </nav>
    </header>
  </div>
  <div class=container-xxl>
    <aside class=doks-sidebar>
      <nav id=doks-docs-nav class="collapse d-lg-none" aria-label="Tertiary navigation">
        <h3 class="h6 text-uppercase mb-2">Case Study</h3>
        <ul class=list-unstyled>
          <li>
            <a class=docs-link href=../introduction>Introduction</a>
          </li>
          <li>
            <a class=docs-link href=../baas>BaaS</a>
          </li>
          <li>
            <a class=docs-link href=../existing-solutions>Existing Solutions</a>
          </li>
          <li>
            <a class=docs-link href=../snowclone-design>Snowclone Design</a>
          </li>
          <li>
            <a class="docs-link active" href=../cloud-deployment>Cloud Deployment</a>
          </li>
          <li>
            <a class=docs-link href=../future-work>Future Work</a>
          </li>
        </ul>
      </nav>
    </aside>
  </div>
  <div class="wrap container-xxl" role=document>
    <div class=content>
      <div class="row flex-xl-nowrap">
        <div class="col-lg-4 col-xl-3 docs-sidebar d-none d-lg-block">
          <nav id=sidebar-default class=docs-links aria-label="Main navigation">
            <h3 class="h6 text-uppercase mb-2">Case Study</h3>
            <ul class=list-unstyled>
              <li>
                <a class=docs-link href=../introduction>Introduction</a>
              </li>
              <li>
                <a class=docs-link href=../baas>BaaS</a>
              </li>
              <li>
                <a class=docs-link href=../existing-solutions>Existing Solutions</a>
              </li>
              <li>
                <a class=docs-link href=../snowclone-design>Snowclone Design</a>
              </li>
              <li>
                <a class="docs-link active" href=../cloud-deployment>Cloud Deployment</a>
              </li>
              <li>
                <a class=docs-link href=../future-work>Future Work</a>
              </li>
            </ul>
          </nav>
        </div>
        <nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation">
          <div class=d-xl-none>
            <button class="btn btn-outline-primary btn-sm doks-toc-toggle collapsed" type=button data-bs-toggle=collapse
              data-bs-target=#onThisPage aria-controls=doks-docs-nav aria-expanded=false
              aria-label="Toggle On this page navigation">
              <span>On this page</span>
              <span>
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                  class="doks doks-expand" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round">
                  <title>Expand</title>
                  <polyline points="7 13 12 18 17 13" />
                  <polyline points="7 6 12 11 17 6" />
                </svg>
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                  class="doks doks-collapse" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round">
                  <title>Collapse</title>
                  <polyline points="17 11 12 6 7 11" />
                  <polyline points="17 18 12 13 7 18" />
                </svg>
              </span>
            </button>
            <div class=collapse id=onThisPage>
              <div class="card card-body mt-3 py-1">
                <div class=page-links>
                  <nav id=TableOfContents>
                    <ul>
                      <li>
                        <a href=#deploying-snowclone-to-your-cloud>Deploying Snowclone to your Cloud</a>
                      </li>
                      <li>
                        <a href=#compute>Compute</a>
                      </li>
                      <li>
                        <a href=#database>Database</a>
                      </li>
                      <li>
                        <a href=#data-access-control>Data Access Control</a>
                      </li>
                      <li>
                        <a href=#nat-to-the-rescue>NAT to the Rescue</a>
                      </li>
                      <li>
                        <a href=#https>HTTPS</a>
                      </li>
                      <li>
                        <a href=#aws-infrastructure>AWS Infrastructure</a>
                      </li>
                      <li>
                        <a href=#terraform>Terraform</a>
                      </li>
                      <li>
                        <a href=#snowclone-cli>Snowclone CLI</a>
                      </li>
                    </ul>
                  </nav>
                </div>
              </div>
            </div>
          </div>
          <div class="page-links d-none d-xl-block">
            <h3>On this page</h3>
            <nav id=TableOfContents>
              <ul>
                <li>
                  <a href=#deploying-snowclone-to-your-cloud>Deploying Snowclone to your Cloud</a>
                </li>
                <li>
                  <a href=#compute>Compute</a>
                </li>
                <li>
                  <a href=#database>Database</a>
                </li>
                <li>
                  <a href=#data-access-control>Data Access Control</a>
                </li>
                <li>
                  <a href=#nat-to-the-rescue>NAT to the Rescue</a>
                </li>
                <li>
                  <a href=#https>HTTPS</a>
                </li>
                <li>
                  <a href=#aws-infrastructure>AWS Infrastructure</a>
                </li>
                <li>
                  <a href=#terraform>Terraform</a>
                </li>
                <li>
                  <a href=#snowclone-cli>Snowclone CLI</a>
                </li>
              </ul>
            </nav>
          </div>
        </nav>
        <main class="docs-content col-lg-12 col-xl-10">
          <h1 id=deploying-snowclone-to-your-cloud>Deploying Snowclone to your Cloud
            <a href=#deploying-snowclone-to-your-cloud class=anchor aria-hidden=true>#</a>
          </h1>
          <p>The goal for deploying Snowclone to a user’s cloud was simple: to provide the full Snowclone stack, but
            hosted in Amazon Web Services (AWS). While Snowclone run locally is meant for one application, Snowclone
            deployed to AWS is intended to host multiple backends. The deployment to AWS is a turnkey solution handled
            by Snowclone CLI.</p>
          <p>We chose AWS because it is the industry leader in cloud computing. The strategic decisions we made apply to
            any cloud platform, only the implementation details will vary.</p>
          <p>The workflow is as follows: a Snowclone user, via the Snowclone CLI, deploys a backend to their own AWS
            environment. That backend is then made available at a URL for connection over the internet, with specific
            functionalities like real-time, schema migration, and CRUD operations available through associated API
            endpoints of the backend’s URL. A user can deploy many backends, all managed by the CLI.</p>
          <p>In the sections below, we will go through each component of a backend’s AWS infrastructure, and discuss the
            challenges encountered when deploying them. This will culminate with a discussion on the complete
            architecture, and how we used Snowclone CLI in conjunction with the tool Terraform to provision our
            solution.</p>
          <p class=lead></p>
          <nav class=d-xl-none aria-label="Quaternary navigation">
            <div class=d-xl-none>
              <button class="btn btn-outline-primary btn-sm doks-toc-toggle collapsed" type=button
                data-bs-toggle=collapse data-bs-target=#onThisPage aria-controls=doks-docs-nav aria-expanded=false
                aria-label="Toggle On this page navigation">
                <span>On this page</span>
                <span>
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                    class="doks doks-expand" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round">
                    <title>Expand</title>
                    <polyline points="7 13 12 18 17 13" />
                    <polyline points="7 6 12 11 17 6" />
                  </svg>
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                    class="doks doks-collapse" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round">
                    <title>Collapse</title>
                    <polyline points="17 11 12 6 7 11" />
                    <polyline points="17 18 12 13 7 18" />
                  </svg>
                </span>
              </button>
              <div class=collapse id=onThisPage>
                <div class="card card-body mt-3 py-1">
                  <div class=page-links>
                    <nav id=TableOfContents>
                      <ul>
                        <li>
                          <a href=#deploying-snowclone-to-your-cloud>Deploying Snowclone to your Cloud</a>
                        </li>
                        <li>
                          <a href=#compute>Compute</a>
                        </li>
                        <li>
                          <a href=#database>Database</a>
                        </li>
                        <li>
                          <a href=#data-access-control>Data Access Control</a>
                        </li>
                        <li>
                          <a href=#nat-to-the-rescue>NAT to the Rescue</a>
                        </li>
                        <li>
                          <a href=#https>HTTPS</a>
                        </li>
                        <li>
                          <a href=#aws-infrastructure>AWS Infrastructure</a>
                        </li>
                        <li>
                          <a href=#terraform>Terraform</a>
                        </li>
                        <li>
                          <a href=#snowclone-cli>Snowclone CLI</a>
                        </li>
                      </ul>
                    </nav>
                  </div>
                </div>
              </div>
            </div>
            <div class="page-links d-none d-xl-block">
              <h3>On this page</h3>
              <nav id=TableOfContents>
                <ul>
                  <li>
                    <a href=#deploying-snowclone-to-your-cloud>Deploying Snowclone to your Cloud</a>
                  </li>
                  <li>
                    <a href=#compute>Compute</a>
                  </li>
                  <li>
                    <a href=#database>Database</a>
                  </li>
                  <li>
                    <a href=#data-access-control>Data Access Control</a>
                  </li>
                  <li>
                    <a href=#nat-to-the-rescue>NAT to the Rescue</a>
                  </li>
                  <li>
                    <a href=#https>HTTPS</a>
                  </li>
                  <li>
                    <a href=#aws-infrastructure>AWS Infrastructure</a>
                  </li>
                  <li>
                    <a href=#terraform>Terraform</a>
                  </li>
                  <li>
                    <a href=#snowclone-cli>Snowclone CLI</a>
                  </li>
                </ul>
              </nav>
            </div>
          </nav>
          <h2 id=compute>
            Compute <a href=#compute class=anchor aria-hidden=true>#</a>
          </h2>
          <p>We considered a few AWS offerings for our compute model, but chose Elastic Container Service (ECS) Fargate:
          </p>
          <ul>
            <li><strong>Elastic Container Service (ECS) Fargate:</strong> Since our entire stack is containerized, we
              chose to deploy it to ECS, a container orchestration service. ECS has options for “capacity”, the
              infrastructure where containers run, with the relevant two capacity options for our use case being EC2 and
              Fargate. EC2 required specifying the size and quantity of, and managing, the underlying EC2 instances. We
              chose to deploy with Fargate to take advantage of its serverless pay-only-for-what-you-use model and
              ensure that Snowclone users would not be responsible for managing servers. </li>
          </ul>
          <p>Alternatives we considered:</p>
          <ul>
            <li><strong>Elastic Cloud Compute (EC2):</strong> The easiest and most straightforward option for deployment
              was to host our entire stack in an EC2 instance. However, EC2 is expensive and inflexible compared to
              Elastic Container Service, so one might end up paying for more than is used.</li>
            <li><strong>Lambda:</strong> These short-lived compute instances are cost-effective, but our tasks need to
              be long-running since we have an event server that needs to keep SSE connections alive and a PostgREST
              server whose caching mechanisms are rendered useless with a Lambda.</li>
          </ul>
          <p><strong>Structure of services:</strong> In ECS, a task equates to a container, a unit of code along with
            its
            dependencies. A task can be standalone or run by a service; a service handles a task’s lifecycle. To use
            Fargate capacity in ECS, we first provision a cluster to group our services. A service can spin up more
            tasks when traffic is high, remove those tasks when traffic decreases, and replace unhealthy tasks.
          </p>
          <p>Each task requires a task definition (analogous to the service definitions used locally in docker-compose
            to specify configuration details for containers like port mapping, etc.) which, among other configuration
            details, includes a reference to the Docker image that will be pulled down from Docker hub upon the task
            being provisioned and used to hydrate the task.</p>
          <figure>
            <img src="../../images/ECS-terminology.png"
              alt="Diagram showing relationships between AWS task, service, and cluster inside ECS Fargate">
            <figcaption>Tasks are managed by services inside a Fargate cluster</figcaption>
          </figure>
          <p>One challenge we encountered when provisioning Snowclone’s API servers was handling environment variables.
            When Snowclone is run locally, these variables could be safely stored in a separate .env file and referenced
            in our docker-compose file. However, for AWS, these values needed to be defined in our ECS task definitions,
            and transmitting these plain text values over the network was unacceptable from a security perspective.</p>
          <p>AWS Secrets Manager proved a useful solution. This process will be more thoroughly covered in later
            sections, but broadly speaking: when a user deploys a new backend with Snowclone, a temporary password and
            username are generated for the database. Snowclone then supplies this password and username to our
            infrastructure provisioning tool, Terraform, which registers the value as a secret in AWS Secrets Manager.
            Sensitive data is thus stored in Secrets Manager and then referenced and retrieved in our task definitions
            without hardcoding plain text values.</p>
          <h2 id=database>
            Database <a href=#database class=anchor aria-hidden=true>#</a>
          </h2>
          <p>When Snowclone is run locally, the database is a PostgreSQL instance running in a Docker container. To
            recreate this functionality in AWS, and since we were already using ECS Fargate, the thought of spinning up
            a Fargate service running a PostgreSQL task seemed like a possible solution. </p>
          <p>However, persisting the database’s data in ECS is a tricky challenge. By design, containers in ECS are
            ephemeral resources, their life cycles dependent on the actual Amazon servers hosting them— servers that can
            be rebooted or shut down anytime. To overcome this issue, our data had to be written somewhere that outlived
            the container’s life cycle.</p>
          <figure>
            <img src="../../images/container-lifecycle.gif"
              alt="Animation showing different stages in a container lifecycle: healthy, pending, and unhealthy. ">
            <figcaption>Container volumes are not persisted in ECS</figcaption>
          </figure>
          <p>In a local instance of Snowclone, Docker persists data using volumes stored on the local machine. Thus, if
            the database container is shut down, the data can be accessed by the container when it restarts. This Docker
            volume approach does not work in ECS Fargate, as no local host outlives the container.<sup id="fnref:1"><a
                href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
          <p>Our need for data persistence led us to use Amazon’s Relational Database Service (RDS) for our PostgreSQL
            database.</p>
          <figure>
            <img src="../../images/rds.png"
              alt="A schematic diagram of AWS infrastructure showing RDS under the ECS Fargate resources.">
            <figcaption>RDS manages PostgreSQL for the instance's database</figcaption>
          </figure>

          <h2 id=data-access-control>
            Data Access Control <a href=#data-access-control class=anchor aria-hidden=true>#</a>
          </h2>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
            dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
            ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat
            nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit
            anim id est laborum.</p>
          <h2 id=nat-to-the-rescue>
            NAT to the Rescue<a href=#nat-to-the-rescue class=anchor aria-hidden=true>#</a>
          </h2>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
            dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
            ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat
            nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit
            anim id est laborum.</p>
          <h2 id=https>
            HTTPS<a href=#https class=anchor aria-hidden=true>#</a>
          </h2>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
            dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
            ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat
            nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit
            anim id est laborum.</p>
          <h2 id=aws-infrastructure>
            AWS Infrastructure<a href=#aws-infrastructure class=anchor aria-hidden=true>#</a>
          </h2>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
            dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
            ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat
            nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit
            anim id est laborum.</p>
          <h2 id=terraform>
            Terraform<a href=#terraform class=anchor aria-hidden=true>#</a>
          </h2>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
            dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
            ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat
            nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit
            anim id est laborum.</p>
          <h2 id=snowclone-cli>
            Snowclone CLI<a href=#snowclone-cli class=anchor aria-hidden=true>#</a>
          </h2>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
            dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
            ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat
            nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit
            anim id est laborum.</p>
          <h2 id="notes">Notes <a href="#notes" class="anchor" aria-hidden="true">#</a></h2>
          <div class="footnotes" role="doc-endnotes">
            <hr>
            <ol>
              <li id="fn:1">
                <p>We provisioned two services in our Fargate cluster since it was necessary to decouple the PostgREST
                  task from the schema upload task. This was a catch-22 situation where the postgREST task failed
                  because it couldn’t log into the database, which caused the entire service to fail, which included the
                  schema task we needed to upload a SQL file that created credentials for postgREST to log into the
                  database. With postgREST failing in its own service, the schema task stayed up and we could upload our
                  login SQL file. PostgREST could now log into the database, and all services now passed their health
                  checks.&nbsp;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">↩︎</a>
                </p>
              </li>
              <li id="fn:2">
                <p><a
                    href="https://docs.expertflow.com/chat/3.18/hybrid-chat-deployment/turn-server-deployment-guide">TURN
                    Server Deployment Guide</a>&nbsp;<a href="#fnref:2" class="footnote-backref"
                    role="doc-backlink">↩︎</a></p>
              </li>
            </ol>
          </div>
          <div class="page-footer-meta d-flex flex-column flex-md-row justify-content-between"></div>
          <div class="docs-navigation d-flex justify-content-between">
            <a href=../snowclone-design>
              <div class="card my-1">
                <div class="card-body py-2">&larr; Snowclone Design</div>
              </div>
            </a>
            <a class=ms-auto href=../future-work>
              <div class="card my-1">
                <div class="card-body py-2">Future Work &rarr;</div>
              </div>
            </a>
          </div>
        </main>
      </div>
    </div>
  </div>
  <footer class="footer text-muted">
    <div class=container-xxl>
      <div class=row>
        <div class="col-lg-8 order-last order-lg-first">
          <ul class=list-inline>
            <li class=list-inline-item>
              Powered by coffee and snowcones
            </li>
          </ul>
        </div>
        <div class="col-lg-8 order-first order-lg-last text-lg-end">
          <ul class=list-inline></ul>
        </div>
      </div>
    </div>
    <script src=../../scripts/bootstrap.js crossorigin=anonymous defer></script>
    <div class="d-flex fixed-bottom pb-4 pb-lg-5 pe-4 pe-lg-5">
      <a id=toTop href=# class="btn btn-outline-primary rounded-circle ms-auto p-2">
        <span class=visually-hidden>Top</span>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="feather feather-chevron-up">
          <polyline points="18 15 12 9 6 15" />
        </svg>
      </a>
    </div>
</body>

</html>